{"version":3,"sources":["services/persons.js","App.js","index.js"],"names":["baseUrl","axios","get","then","response","data","newObject","post","id","put","delete","Filter","props","value","onChange","Notification","message","style","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","Error","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","notificationMessage","setNotificationMessage","errorMessage","setErrorMessage","useEffect","personsService","initialPersons","event","target","onSubmit","preventDefault","foundPerson","find","person","name","undefined","window","confirm","number","newPerson","map","setTimeout","catch","console","log","concat","error","type","filter","toLowerCase","includes","key","onClick","alert","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.fcd8fa87.chunk.js","sourcesContent":["import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl).then(response => response.data)\n}\n\nconst create = newObject => {\n  return axios.post(baseUrl, newObject).then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  return axios.put(`${baseUrl}/${id}`, newObject).then(response => response.data)\n}\n\nconst deleteItem = (id) => {\n  return axios.delete(`${baseUrl}/${id}`).then(response => response.data)\n}\n\nexport default { \n  getAll,\n  create, \n  update,\n  deleteItem\n}\n","import React, { useState, useEffect } from 'react'\nimport personsService from './services/persons.js'\n\nconst Filter = (props) => {\n  return(\n    <div>\n      filter shown with <input value={props.value} onChange={props.onChange} />\n    </div>\n  )\n}\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  const notificationStyle = {\n    color: 'green',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst Error = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n\n  const notificationStyle = {\n    color: 'red',\n    background: 'lightgrey',\n    fontSize: 20,\n    borderStyle: 'solid',\n    borderRadius: 5,\n    padding: 10,\n    marginBottom: 10\n  }\n\n  return (\n    <div style={notificationStyle}>\n      {message}\n    </div>\n  )\n}\n\nconst App = () => {\n  const [ persons, setPersons ] = useState([]) \n  const [ newName, setNewName ] = useState('')\n  const [ newNumber, setNewNumber ] = useState('')\n  const [ newFilter, setNewFilter ] = useState('')\n  const [ notificationMessage, setNotificationMessage ] = useState(null)\n  const [ errorMessage, setErrorMessage ] = useState(null)\n\n  useEffect(() => {\n    personsService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n  const handleAdd = (event) => {\n    event.preventDefault()\n\n    const foundPerson = persons.find(person => person.name === newName)\n\n    if (foundPerson !== undefined) {\n      if (window.confirm(`${newName} is already added to phonebook, replace the old number with a new one?`)) {\n        personsService\n          .update(foundPerson.id, {...foundPerson, number: newNumber })\n          .then((newPerson) => {\n            setPersons(persons.map(person => person.id !== foundPerson.id ? person : newPerson))\n            setNotificationMessage(`${newName} number changed!`)\n            setTimeout(() => setNotificationMessage(null), 3000)\n          })\n          .catch((newPerson) => {\n            setErrorMessage(`Couldn't change ${newName}'s number`)\n            setTimeout(() => setErrorMessage(null), 3000)\n          })\n      }\n    } else {\n      personsService\n        .create({ name: newName, number: newNumber })\n        .then((newPerson) => {\n          console.log('saved persons')\n          setPersons(persons.concat(newPerson))\n          setNotificationMessage(`${newName} added!`)\n          setTimeout(() => setNotificationMessage(null), 3000)\n        })\n        .catch(error => {\n          setErrorMessage(error.response.data.error)\n          setTimeout(() => setErrorMessage(null), 3000)\n        })\n    }\n\n    setNewName('')\n    setNewNumber('')\n  }\n\n  const handeName = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumber = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleFilter = (event) => {\n    setNewFilter(event.target.value)\n  }\n\n  const handleDelete = (name, id) => {\n    if(window.confirm(`delete ${name}?`)) {\n      personsService\n        .deleteItem(id)\n        .then(() => {\n          setPersons(persons.filter((person) => person.id !== id))\n          setNotificationMessage(`${name} deleted!`)\n          setTimeout(() => setNotificationMessage(null), 3000)\n        })\n        .catch(() => window.alert(`couldn't delete ${name}`))\n    }\n  }\n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n        <Notification message={notificationMessage} />\n        <Error message={errorMessage} />\n        <Filter value={newFilter} onChange={handleFilter} />\n      <h2>add a new</h2>\n      <form onSubmit={handleAdd}>\n        <div>\n          name: <input value={newName} onChange={handeName} />\n        </div>\n        <div>\n          number: <input value={newNumber} onChange={handleNumber} />\n        </div>\n        <div>\n          <button type=\"submit\">add</button>\n        </div>\n      </form>\n      <h2>Numbers</h2>\n      {\n        persons.filter(person => person.name.toLowerCase().includes(newFilter))\n          .map(person =>\n            <div key={person.name}>\n              {person.name} {person.number}\n              <button onClick={() => handleDelete(person.name, person.id)}>delete</button>\n            </div>\n          )\n      }\n    </div>\n  )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />,\n  document.getElementById('root')\n);\n\n"],"sourceRoot":""}